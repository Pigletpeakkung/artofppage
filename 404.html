<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>404 Error | PegeArts Creative Portfolio</title>
    <meta name="description" content="Creative 404 page for PegeArts Portfolio - Art not found, but creativity never sleeps!">
    <!-- Prevent indexing of 404 page -->

<!-- Preconnect to CDNs -->
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
      rel="stylesheet" 
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
      crossorigin="anonymous">

<link rel="stylesheet" 
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
      crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<!-- Favicons -->
<link rel="icon" href="/assets/icons/favicon.svg" type="image/svg+xml">
<link rel="icon" href="/assets/icons/favicon-32x32.png" sizes="32x32">

<!-- Open Graph Meta for 404 -->
<meta property="og:title" content="404 - Page Not Found | Thanatsitt Portfolio">
<meta property="og:description" content="The page you're looking for doesn't exist. Explore amazing AI and creative design projects instead.">
<meta property="og:image" content="https://pegearts.com/assets/images/404-og-image.jpg">
<meta property="og:url" content="https://pegearts.com/404">
<meta property="og:type" content="website">

<style>
    :root {
        --primary-light: #A78BFA;
        --primary-accent: #F9A8D4;
        --primary-rgb: 167, 139, 250;
        --background-light: #F8FAFC;
        --text-dark: #2D3748;
        --text-color: var(--text-dark);
        --glass-bg: rgba(255, 255, 255, 0.1);
        --glass-border: rgba(255, 255, 255, 0.2);
        --shadow-light: rgba(0, 0, 0, 0.1);
        --shadow-medium: rgba(0, 0, 0, 0.15);
    }
    
    [data-theme="dark"] {
        --background-light: #1A202C;
        --text-dark: #F8FAFC;
        --text-color: var(--text-dark);
        --glass-bg: rgba(0, 0, 0, 0.2);
        --glass-border: rgba(255, 255, 255, 0.1);
        --shadow-light: rgba(0, 0, 0, 0.3);
        --shadow-medium: rgba(0, 0, 0, 0.4);
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(135deg, var(--background-light) 0%, rgba(var(--primary-rgb), 0.05) 100%);
        color: var(--text-color);
        line-height: 1.6;
        min-height: 100vh;
        overflow-x: hidden;
        transition: all 0.3s ease;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Skip Link for Accessibility */
    .skip-link {
        position: absolute;
        top: -40px;
        left: 6px;
        background: var(--primary-light);
        color: #fff;
        padding: 8px 16px;
        text-decoration: none;
        border-radius: 4px;
        z-index: 9999;
        transition: top 0.3s;
        font-weight: 600;
    }
    
    .skip-link:focus {
        top: 6px;
    }

    /* 404 Container */
    .error-404-container {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        padding: 2rem 1rem;
    }

    /* Animated Background Elements */
    .error-background {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        overflow: hidden;
        z-index: 1;
    }

    .floating-shape {
        position: absolute;
        background: linear-gradient(45deg, rgba(var(--primary-rgb), 0.1), rgba(var(--primary-rgb), 0.05));
        border-radius: 50%;
        animation: float 6s ease-in-out infinite;
        will-change: transform;
    }

    .floating-shape:nth-child(1) {
        width: 100px;
        height: 100px;
        top: 10%;
        left: 10%;
        animation-delay: 0s;
    }

    .floating-shape:nth-child(2) {
        width: 150px;
        height: 150px;
        top: 20%;
        right: 15%;
        animation-delay: 2s;
    }

    .floating-shape:nth-child(3) {
        width: 80px;
        height: 80px;
        bottom: 20%;
        left: 20%;
        animation-delay: 4s;
    }

    .floating-shape:nth-child(4) {
        width: 120px;
        height: 120px;
        bottom: 15%;
        right: 10%;
        animation-delay: 1s;
    }

    .floating-shape:nth-child(5) {
        width: 60px;
        height: 60px;
        top: 50%;
        left: 5%;
        animation-delay: 3s;
    }

    .floating-shape:nth-child(6) {
        width: 90px;
        height: 90px;
        top: 70%;
        right: 25%;
        animation-delay: 5s;
    }

    @keyframes float {
        0%, 100% {
            transform: translateY(0px) rotate(0deg);
        }
        25% {
            transform: translateY(-20px) rotate(5deg);
        }
        50% {
            transform: translateY(-10px) rotate(0deg);
        }
        75% {
            transform: translateY(-30px) rotate(-5deg);
        }
    }

    /* Particle System */
    .particles-container {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        overflow: hidden;
    }

    .particle {
        position: absolute;
        width: 4px;
        height: 4px;
        background: var(--primary-light);
        border-radius: 50%;
        opacity: 0;
        animation: particleFloat 8s linear infinite;
    }

    @keyframes particleFloat {
        0% {
            opacity: 0;
            transform: translateY(100vh) scale(0);
        }
        10% {
            opacity: 1;
        }
        90% {
            opacity: 1;
        }
        100% {
            opacity: 0;
            transform: translateY(-100px) scale(1);
        }
    }

    /* 404 Content */
    .error-content {
        text-align: center;
        position: relative;
        z-index: 2;
        max-width: 900px;
        margin: 0 auto;
    }

    /* Glass Card Effect */
    .error-card {
        background: var(--glass-bg);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid var(--glass-border);
        border-radius: 24px;
        padding: 3rem 2rem;
        box-shadow: 
            0 8px 32px var(--shadow-light),
            inset 0 1px 0 rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .error-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    }

    .error-card:hover {
        transform: translateY(-5px);
        box-shadow: 
            0 20px 40px var(--shadow-medium),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    /* 404 Number */
    .error-number {
        font-size: clamp(8rem, 15vw, 12rem);
        font-weight: 800;
        background: linear-gradient(135deg, var(--primary-light), var(--primary-accent));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        line-height: 1;
        margin-bottom: 1rem;
        position: relative;
        display: inline-block;
        animation: numberPulse 3s ease-in-out infinite;
    }

    .error-number::before {
        content: '404';
        position: absolute;
        top: 0;
        left: 0;
        background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.3), rgba(249, 168, 212, 0.3));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        filter: blur(20px);
        z-index: -1;
        animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
        from {
            filter: blur(20px);
            opacity: 0.8;
        }
        to {
            filter: blur(30px);
            opacity: 0.4;
        }
    }

    @keyframes numberPulse {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.05);
        }
    }

    /* Error Messages */
    .error-title {
        font-size: clamp(2rem, 4vw, 3rem);
        font-weight: 700;
        margin-bottom: 1rem;
        color: var(--text-color);
        animation: fadeInUp 0.8s ease-out 0.2s both;
    }

    .error-message {
        font-size: 1.25rem;
        color: var(--text-color);
        opacity: 0.8;
        margin-bottom: 2rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        animation: fadeInUp 0.8s ease-out 0.4s both;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Search Container */
    .search-container {
        max-width: 400px;
        margin: 0 auto 2rem;
        position: relative;
        animation: fadeInUp 0.8s ease-out 0.6s both;
    }

    .search-input {
        width: 100%;
        padding: 1rem 1.5rem 1rem 3rem;
        border: 1px solid var(--glass-border);
        border-radius: 50px;
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        color: var(--text-color);
        font-size: 1rem;
        outline: none;
        transition: all 0.3s ease;
    }

    .search-input:focus {
        border-color: var(--primary-light);
        box-shadow: 0 0 0 3px rgba(var(--primary-rgb), 0.1);
        background: rgba(var(--primary-rgb), 0.05);
    }

    .search-input::placeholder {
        color: var(--text-color);
        opacity: 0.6;
    }

    .search-icon {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-color);
        opacity: 0.6;
        transition: all 0.3s ease;
    }

    .search-container:focus-within .search-icon {
        color: var(--primary-light);
        opacity: 1;
    }

    /* Action Buttons */
    .error-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: center;
        margin-bottom: 3rem;
        animation: fadeInUp 0.8s ease-out 0.8s both;
    }

    .btn-404 {
        padding: 0.75rem 2rem;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        min-width: 160px;
        justify-content: center;
        position: relative;
        overflow: hidden;
        cursor: pointer;
    }

    .btn-404::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s;
    }

    .btn-404:hover::before {
        left: 100%;
    }

    .btn-primary-404 {
        background: linear-gradient(135deg, var(--primary-light), var(--primary-accent));
        color: white;
        border: none;
        box-shadow: 0 4px 15px rgba(var(--primary-rgb), 0.3);
    }

    .btn-primary-404:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(var(--primary-rgb), 0.4);
        color: white;
        text-decoration: none;
    }

    .btn-secondary-404 {
        background: var(--glass-bg);
        color: var(--text-color);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }

    .btn-secondary-404:hover {
        background: rgba(var(--primary-rgb), 0.1);
        transform: translateY(-2px);
        color: var(--text-color);
        text-decoration: none;
    }

    /* Quick Links */
    .quick-links {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
        margin-top: 2rem;
        animation: fadeInUp 0.8s ease-out 1s both;
    }

    .quick-link {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        border-radius: 16px;
        padding: 1.5rem;
        text-decoration: none;
        color: var(--text-color);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 1rem;
        position: relative;
        overflow: hidden;
    }

    .quick-link::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--primary-light), var(--primary-accent));
        transform: scaleX(0);
        transition: transform 0.3s ease;
    }

    .quick-link:hover {
        transform: translateY(-3px);
        background: rgba(var(--primary-rgb), 0.1);
        color: var(--text-color);
        box-shadow: 0 8px 25px var(--shadow-light);
        text-decoration: none;
    }

    .quick-link:hover::before {
        transform: scaleX(1);
    }

    .quick-link-icon {
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, var(--primary-light), var(--primary-accent));
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.25rem;
        flex-shrink: 0;
        transition: all 0.3s ease;
    }

    .quick-link:hover .quick-link-icon {
        transform: scale(1.1) rotate(5deg);
    }

    .quick-link-content {
        flex-grow: 1;
    }

    .quick-link-content h4 {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 0.25rem;
        color: var(--text-color);
    }

    .quick-link-content p {
        font-size: 0.875rem;
        opacity: 0.8;
        margin: 0;
        color: var(--text-color);
    }

    /* Theme Toggle */
    .theme-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        color: var(--text-color);
        font-size: 1.25rem;
        padding: 0.5rem;
        border-radius: 50%;
        width: 2.5rem;
        height: 2.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 1000;
        transition: all 0.3s ease;
    }

    .theme-toggle:hover {
        background: rgba(var(--primary-rgb), 0.1);
        transform: scale(1.1) rotate(15deg);
    }

    .theme-toggle:active {
        transform: scale(0.95);
    }

    .theme-toggle .d-none {
        display: none !important;
    }

    /* Theme-specific icons */
    [data-theme="light"] .fa-sun {
        display: none;
    }

    [data-theme="dark"] .fa-moon {
        display: none;
    }

    [data-theme="dark"] .fa-sun {
        display: inline-block;
    }

    /* Alert Messages */
    .alert {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid var(--glass-border);
        border-radius: 12px;
        padding: 1rem;
        margin: 1rem 0;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        animation: slideInDown 0.5s ease-out;
    }

    .alert-info {
        border-left: 4px solid var(--primary-light);
    }

    .alert-warning {
        border-left: 4px solid #f59e0b;
    }

    .alert-link {
        color: var(--primary-light);
        text-decoration: none;
        font-weight: 600;
    }

    .alert-link:hover {
        text-decoration: underline;
    }

    @keyframes slideInDown {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .error-card {
            padding: 2rem 1.5rem;
            margin: 1rem;
            border-radius: 20px;
        }

        .error-actions {
            flex-direction: column;
            align-items: center;
        }

        .btn-404 {
            width: 100%;
            max-width: 280px;
        }

        .quick-links {
            grid-template-columns: 1fr;
        }

        .theme-toggle {
            top: 15px;
            right: 15px;
            width: 2rem;
            height: 2rem;
            font-size: 1rem;
        }

        .floating-shape:nth-child(n+5) {
            display: none;
        }
    }

    @media (max-width: 480px) {
        .error-404-container {
            padding: 1rem 0.5rem;
        }

        .error-card {
            padding: 1.5rem 1rem;
            margin: 0.5rem;
        }

        .error-number {
            font-size: 6rem;
        }

        .error-title {
            font-size: 1.75rem;
        }

        .error-message {
            font-size: 1rem;
        }

        .quick-link {
            padding: 1rem;
        }

        .quick-link-icon {
            width: 40px;
            height: 40px;
            font-size: 1rem;
        }
    }

    /* Dark theme adjustments */
    [data-theme="dark"] .floating-shape {
        background: linear-gradient(45deg, rgba(var(--primary-rgb), 0.15), rgba(var(--primary-rgb), 0.08));
    }

    [data-theme="dark"] .error-card {
        box-shadow: 
            0 8px 32px rgba(0, 0, 0, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }

    [data-theme="dark"] .error-card:hover {
        box-shadow: 
            0 20px 40px rgba(0, 0, 0, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    [data-theme="dark"] .particle {
        background: rgba(var(--primary-rgb), 0.8);
    }

    /* Accessibility */
    @media (prefers-reduced-motion: reduce) {
        .floating-shape,
        .error-number::before,
        .error-number,
        .particle {
            animation: none;
        }
        
        .btn-404::before,
        .quick-link::before {
            display: none;
        }
    }

    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    /* Focus styles */
    *:focus {
        outline: 3px solid rgba(var(--primary-rgb), 0.6);
        outline-offset: 2px;
    }

    .btn-404:focus,
    .quick-link:focus {
        outline-color: rgba(var(--primary-rgb), 0.8);
    }

    /* Loading Animation */
    .loading {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s ease;
    }

    .loaded {
        opacity: 1;
        transform: translateY(0);
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: var(--glass-bg);
    }

    ::-webkit-scrollbar-thumb {
        background: var(--primary-light);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--primary-accent);
    }
</style>
</head>
<body>
<!-- Theme Toggle -->
<button id="themeToggle" class="theme-toggle" aria-label="Toggle dark/light theme" title="Toggle theme">
    <i class="fas fa-moon" aria-hidden="true"></i>
    <i class="fas fa-sun d-none" aria-hidden="true"></i>
</button>

<!-- 404 Error Container -->
<main id="main-content" class="error-404-container" role="main">
    <!-- Animated Background -->
    <div class="error-background" aria-hidden="true">
        <div class="floating-shape"></div>
        <div class="floating-shape"></div>
        <div class="floating-shape"></div>
        <div class="floating-shape"></div>
        <div class="floating-shape"></div>
        <div class="floating-shape"></div>
    </div>

    <!-- Particle System -->
    <div class="particles-container" aria-hidden="true" id="particlesContainer"></div>

    <!-- Error Content -->
    <div class="error-content loading" id="errorContent">
        <div class="error-card">
            <!-- 404 Number -->
            <div class="error-number" aria-label="Error 404">404</div>
            
            <!-- Error Title -->
            <h1 class="error-title">Oops! Page Not Found</h1>
            
            <!-- Error Message -->
            <p class="error-message">
                The page you're looking for seems to have vanished into the digital void. 
                But don't worry â€“ let's get you back on track to explore amazing projects and innovations!
            </p>

            <!-- Search Box -->
            <div class="search-container">
                <div class="search-icon">
                    <i class="fas fa-search" aria-hidden="true"></i>
                </div>
                <input type="text" 
                       class="search-input" 
                       placeholder="Search for projects, skills, or content..."
                       id="searchInput"
                       aria-label="Search site content"
                       autocomplete="off">
            </div>

            <!-- Action Buttons -->
            <div class="error-actions">
                <a href="/" class="btn-404 btn-primary-404" aria-label="Go to homepage">
                    <i class="fas fa-home" aria-hidden="true"></i>
                    Back to Home
                </a>
                <a href="/#portfolio-section" class="btn-404 btn-secondary-404" aria-label="View portfolio">
                    <i class="fas fa-briefcase" aria-hidden="true"></i>
                    View Portfolio
                </a>
            </div>

            <!-- Dynamic Alert Container -->
            <div id="alertContainer"></div>

            <!-- Quick Links -->
            <div class="quick-links" role="list">
                <a href="/#about-section" class="quick-link" role="listitem" aria-label="Learn about Thanatsitt">
                    <div class="quick-link-icon">
                        <i class="fas fa-user" aria-hidden="true"></i>
                    </div>
                    <div class="quick-link-content">
                        <h4>About Me</h4>
                        <p>Learn about my journey in AI and creative design</p>
                    </div>
                </a>

                <a href="/#skills-section" class="quick-link" role="listitem" aria-label="View skills and expertise">
                    <div class="quick-link-icon">
                        <i class="fas fa-cogs" aria-hidden="true"></i>
                    </div>
                    <div class="quick-link-content">
                        <h4>Skills & Expertise</h4>
                        <p>AI, Creative Design, and Digital Innovation</p>
                    </div>
                </a>

                <a href="/#contact-section" class="quick-link" role="listitem" aria-label="Contact Thanatsitt">
                    <div class="quick-link-icon">
                        <i class="fas fa-envelope" aria-hidden="true"></i>
                    </div>
                    <div class="quick-link-content">
                        <h4>Get In Touch</h4>
                        <p>Let's connect and create something amazing</p>
                    </div>
                </a>

                <a href="https://github.com/Pigletpeakkung" class="quick-link" role="listitem" aria-label="View GitHub projects" target="_blank" rel="noopener noreferrer">
                    <div class="quick-link-icon">
                        <i class="fab fa-github" aria-hidden="true"></i>
                    </div>
                    <div class="quick-link-content">
                        <h4>GitHub Projects</h4>
                        <p>Explore my open source contributions</p>
                    </div>
                </a>

                <a href="https://linkedin.com/in/thanatsitt-s" class="quick-link" role="listitem" aria-label="Connect on LinkedIn" target="_blank" rel="noopener noreferrer">
                    <div class="quick-link-icon">
                        <i class="fab fa-linkedin-in" aria-hidden="true"></i>
                    </div>
                    <div class="quick-link-content">
                        <h4>LinkedIn Profile</h4>
                        <p>Connect with me professionally</p>
                    </div>
                </a>

                <a href="https://www.voquent.com/voice-actor/2033447" class="quick-link" role="listitem" aria-label="View voice acting profile" target="_blank" rel="noopener noreferrer">
                    <div class="quick-link-icon">
                        <i class="fas fa-microphone" aria-hidden="true"></i>
                    </div>
                    <div class="quick-link-content">
                        <h4>Voice Acting</h4>
                        <p>Professional voice production services</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</main>

<!-- JavaScript -->
<script>
    // Theme Toggle Functionality
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    const moonIcon = themeToggle.querySelector('.fa-moon');
    const sunIcon = themeToggle.querySelector('.fa-sun');

    // Check for saved theme preference or default to 'light'
    const currentTheme = localStorage.getItem('theme') || 
                       (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    body.setAttribute('data-theme', currentTheme);
    updateThemeIcons(currentTheme);

    themeToggle.addEventListener('click', () => {
        const currentTheme = body.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        
        body.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        updateThemeIcons(newTheme);
        
        // Add a subtle animation feedback
        themeToggle.style.transform = 'scale(0.9)';
        setTimeout(() => {
            themeToggle.style.transform = '';
        }, 150);
    });

    function updateThemeIcons(theme) {
        if (theme === 'dark') {
            moonIcon.classList.add('d-none');
            sunIcon.classList.remove('d-none');
        } else {
            moonIcon.classList.remove('d-none');
            sunIcon.classList.add('d-none');
        }
    }

    // Search Functionality
    const searchInput = document.getElementById('searchInput');
    const quickLinks = document.querySelectorAll('.quick-link');

    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        
        quickLinks.forEach(link => {
            const title = link.querySelector('h4').textContent.toLowerCase();
            const description = link.querySelector('p').textContent.toLowerCase();
            
            if (title.includes(searchTerm) || description.includes(searchTerm) || searchTerm === '') {
                link.style.display = 'flex';
                link.style.opacity = '1';
            } else {
                link.style.display = 'none';
            }
        });

        // Show no results message if needed
        const visibleLinks = Array.from(quickLinks).filter(link => link.style.display !== 'none');
        if (visibleLinks.length === 0 && searchTerm !== '') {
            showAlert('info', 'No matching sections found. Try searching for "AI", "design", "portfolio", or "contact".');
        } else {
            hideAlert();
        }
    });

    // Handle search submission
    searchInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            const searchTerm = e.target.value.trim();
            if (searchTerm) {
                // Redirect to main site with search parameter
                window.location.href = `/?search=${encodeURIComponent(searchTerm)}`;
            }
        }
    });

    // Alert System
    function showAlert(type, message) {
        const alertContainer = document.getElementById('alertContainer');
        const alertClass = type === 'info' ? 'alert-info' : 'alert-warning';
        const icon = type === 'info' ? 'fas fa-info-circle' : 'fas fa-exclamation-triangle';
        
        alertContainer.innerHTML = `
            <div class="alert ${alertClass}">
                <i class="${icon}" aria-hidden="true"></i>
                ${message}
            </div>
        `;
    }

    function hideAlert() {
        const alertContainer = document.getElementById('alertContainer');
        alertContainer.innerHTML = '';
    }

    // Particle System
    function createParticle() {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 2 + 's';
        particle.style.animationDuration = (Math.random() * 3 + 5) + 's';
        
        document.getElementById('particlesContainer').appendChild(particle);
        
        // Remove particle after animation
        setTimeout(() => {
            if (particle.parentNode) {
                particle.parentNode.removeChild(particle);
            }
        }, 8000);
    }

    // Create particles periodically
    setInterval(createParticle, 2000);

    // Loading Animation
    window.addEventListener('load', () => {
        setTimeout(() => {
            const loadingElements = document.querySelectorAll('.loading');
            loadingElements.forEach((element, index) => {
                setTimeout(() => {
                    element.classList.remove('loading');
                    element.classList.add('loaded');
                }, index * 200);
            });
        }, 100);
    });

    // URL Analysis and Smart Suggestions
    const currentPath = window.location.pathname.toLowerCase();
    const currentSearch = window.location.search.toLowerCase();
    const fullURL = currentPath + currentSearch;

    // Common redirect patterns
    const redirectMap = {
        '/portfolio': '/#portfolio-section',
        '/protfolio': '/#portfolio-section',
        '/work': '/#portfolio-section',
        '/projects': '/#portfolio-section',
        '/about': '/#about-section',
        '/abot': '/#about-section',
        '/bio': '/#about-section',
        '/contact': '/#contact-section',
        '/contakt': '/#contact-section',
        '/reach': '/#contact-section',
        '/skills': '/#skills-section',
        '/skilz': '/#skills-section',
        '/expertise': '/#skills-section',
        '/resume': '/#about-section',
        '/cv': '/#about-section',
        '/blog': '/blog',
        '/articles': '/blog'
    };

    // Auto-redirect for exact matches
    if (redirectMap[currentPath]) {
        let countdown = 5;
        const redirectURL = redirectMap[currentPath];
        
        showAlert('warning', `
            <strong>Redirecting to the correct page in <span id="countdown">${countdown}</span> seconds...</strong><br>
            <a href="${redirectURL}" class="alert-link">Click here to go immediately</a>
        `);
        
        const countdownInterval = setInterval(() => {
            countdown--;
            const countdownElement = document.getElementById('countdown');
            if (countdownElement) {
                countdownElement.textContent = countdown;
            }
            
            if (countdown <= 0) {
                clearInterval(countdownInterval);
                window.location.href = redirectURL;
            }
        }, 1000);
    } else {
        // Show suggestions for partial matches
        const suggestions = [];
        
        if (fullURL.includes('portfolio') || fullURL.includes('work') || fullURL.includes('project')) {
            suggestions.push('<a href="/#portfolio-section" class="alert-link">Portfolio Section</a>');
        }
        if (fullURL.includes('about') || fullURL.includes('bio')) {
            suggestions.push('<a href="/#about-section" class="alert-link">About Section</a>');
        }
        if (fullURL.includes('contact') || fullURL.includes('reach')) {
            suggestions.push('<a href="/#contact-section" class="alert-link">Contact Section</a>');
        }
        if (fullURL.includes('skill') || fullURL.includes('expertise')) {
            suggestions.push('<a href="/#skills-section" class="alert-link">Skills Section</a>');
        }
        
        if (suggestions.length > 0) {
            showAlert('info', `
                <i class="fas fa-lightbulb me-2"></i>
                Were you looking for: ${suggestions.join(', ')}?
            `);
        }
    }

    // Analytics - Track 404 errors
    if (typeof gtag !== 'undefined') {
        gtag('event', 'page_view', {
            page_title: '404 - Page Not Found',
            page_location: window.location.href,
            custom_map: { 'custom_parameter_1': 'error_404' }
        });
    }

    // Enhanced Accessibility
    document.addEventListener('keydown', (e) => {
        // Allow Escape key to focus on search
        if (e.key === 'Escape') {
            searchInput.focus();
            searchInput.select();
        }
        
        // Allow '/' key to focus search (like GitHub)
        if (e.key === '/' && !e.ctrlKey && !e.metaKey && document.activeElement !== searchInput) {
            e.preventDefault();
            searchInput.focus();
        }
    });

    // Add keyboard navigation for quick links
    quickLinks.forEach((link, index) => {
        link.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowDown' && index < quickLinks.length - 1) {
                e.preventDefault();
                quickLinks[index + 1].focus();
            } else if (e.key === 'ArrowUp' && index > 0) {
                e.preventDefault();
                quickLinks[index - 1].focus();
            }
        });
    });

    // Performance monitoring
    if ('PerformanceObserver' in window) {
        const perfObserver = new PerformanceObserver((list) => {
            for (const entry of list.getEntries()) {
                if (entry.entryType === 'navigation') {
                    console.log('404 Page Load Time:', entry.loadEventEnd - entry.fetchStart, 'ms');
                }
            }
        });
        perfObserver.observe({ entryTypes: ['navigation'] });
    }

    // Add some Easter eggs for developers
    console.log(`
    ðŸš€ 404 Error Page - Thanatsitt Portfolio
    ========================================
    
    Looks like you found a page that doesn't exist!
    But since you're here in the console, you might be interested in:
    
    â€¢ My GitHub: https://github.com/Pigletpeakkung
    â€¢ My LinkedIn: https://linkedin.com/in/thanatsitt-s
    â€¢ Voice Acting: https://www.voquent.com/voice-actor/2033447
    
    Want to collaborate? Let's build something amazing together! ðŸŽ¨âœ¨
    `);

    // Add a fun console command
    window.showMeTheMagic = function() {
        document.querySelectorAll('.floating-shape').forEach((shape, index) => {
            shape.style.animation = `float 1s ease-in-out infinite`;
            shape.style.animationDelay = index * 0.1 + 's';
        });
        console.log('âœ¨ Magic activated! Watch the floating shapes dance!');
    };

    console.log('ðŸ’¡ Try typing "showMeTheMagic()" in the console for a surprise!');
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" 
        crossorigin="anonymous"></script>

<!-- Structured Data for 404 Page -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "404 - Page Not Found",
    "description": "The requested page could not be found on Thanatsitt Santisamranwilai's portfolio website.",
    "url": "https://pegearts.com/404",
    "mainEntity": {
        "@type": "Thing",
        "name": "404 Error",
        "description": "Page not found error with helpful navigation options"
    },
    "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://pegearts.com/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "404 Error"
            }
        ]
    }
}
</script>
</body>
</html>
